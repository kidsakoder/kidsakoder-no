<div class="col-xs-6 col-sm-3 headlogo">
  <a href="https://kidsakoder.no/" title="Lær Kidsa Koding!" rel="home">
    <img data-th-src="${portal.assetUrl({'_path=images/lkk-logo/lkk-logo-url-negativ-sorthvit.svg'})}" alt="Lær Kidsa Koding"
    />
  </a>
  <div class="dropdown">
    <div class="dropdown-toggle-btn">
      <svg class="sandwich" width="32" height="32" viewPort="0 0 32 32">
        <rect x="0" y="5" width="32" height="4" />
        <rect x="0" y="14" width="32" height="4" />
        <rect x="0" y="23" width="32" height="4" />
      </svg>
    </div>
    <ul class="dropdown-list">
      <li class="item" data-th-each="menuItem : ${menuItems}">
        <a
          class="link"
          data-th-classappend="${menuItem.path == currentPath ? 'active' : ''}"
          data-th-href="${portal.pageUrl({'_path=' + menuItem.path})}"
          data-th-text="${menuItem.menuName} ?: ${menuItem.displayName}">
          Sidetittel
        </a>
      </li>
    </ul>
  </div>
  <script>
    (function() {
      var button = document.querySelector('.dropdown-toggle-btn');
      var openSvg = button.innerHTML;
      var closeSvg = `
        <svg class="cross" width="32" height="32" viewPort="0 0 32 32">
            <line x1="5" y1="5" x2="27" y2="27" />
            <line x1="5" y1="27" x2="27" y2="5" />
        </svg>
      `;
      var dropdownMenu = document.querySelector('.dropdown-list');
      var menuIsOpen = false;

      function close() {
          button.innerHTML = openSvg;
          dropdownMenu.setAttribute('class', 'dropdown-list');
          setTimeout(function() { menuIsOpen = false; }, 10);
      }

      function open() {
          button.innerHTML = closeSvg;
          dropdownMenu.setAttribute('class', 'dropdown-list open');
          setTimeout(function() { menuIsOpen = true; }, 10);
      }

      button.addEventListener('click', function() {
        if (menuIsOpen) {
          close();
        } else {
          open();
        }
      });

      window.addEventListener('click', function() {
        if (menuIsOpen) {
          close();
        }
      });
    }());
  </script>
</div>
